angular.module("pancakesAngular",[]),angular.module("pancakesAngular").factory("activeUser",function(){return{}}),angular.module("pancakesAngular").factory("ajax",["$q","$http","eventBus","config",function(n,e,t,r){function a(a,o,i,u){var l,c,d=n.defer(),f=[];a=r.apiBase+a,i=i||{};var s=i.data;delete i.data,a.indexOf("{_id}")>=0?i._id?(a=a.replace("{_id}",i._id),delete i._id):s&&s._id&&(a=a.replace("{_id}",s._id)):"GET"===o&&i._id&&(a+="/"+i._id,delete i._id);var g=i.showErr!==!1;delete i.showErr,i.lang=i.lang||r.lang;for(l in i)i.hasOwnProperty(l)&&i[l]&&(c=i[l],c=angular.isObject(c)?JSON.stringify(c):c,f.push(encodeURIComponent(l)+"="+encodeURIComponent(c)));f.length&&(a+="?"+f.join("&"));var p={method:o,url:a,withCredentials:!0,cache:!1};return s&&(p.data=s),t.emit(u+"."+o.toLowerCase()+".start"),e(p).success(function(n){d.resolve(n)}).error(function(n){n?(g&&t.emit("error.api",n),d.reject(n)):d.resolve()}).finally(function(){t.emit(u+"."+o.toLowerCase()+".end")}),d.promise}return{send:a}}]),angular.module("pancakesAngular").factory("chainPromises",["$q",function(n){return function(e,t){return e&&e.length?e.reduce(n.when,n.when(t)):n.when(t)}}]),angular.module("pancakesAngular").factory("eventBus",["$document","$rootScope",function(n,e){var t=e.$new(!0);return t.on=t.$on,t.watch=t.$watch,t.emit=function(){e.$broadcast.apply(e,arguments)},t.bindToDocument=function(e,t){n.bind(e,t)},t}]),angular.module("pancakesAngular").factory("config",function(){return{staticFileRoot:"/"}}),function(){function n(n,e,t,r,o){a.directive(n,["i18n","config",function(a,i){return function(u,l,c){var d=c[n];if(r)var f=u.$watch(d,function(n){void 0!==n&&null!==n&&(n="file"===t?i.staticFileRoot+n:a.translate(n),"text"===e?l.text(n):"class"===e?c.$addClass(n):c.$set(e,n,u),o&&f&&f())});else if(!r&&null!==t)if(d.indexOf("{{")>=0)var s=c.$observe(n,function(n){n="file"===t?i.staticFileRoot+n:a.translate(n,u),"text"===e?l.text(n):c.$set(e,n,u),o&&s&&s()});else{var g="file"===t?i.staticFileRoot+d:a.translate(d);"text"===e?l.text(g):c.$set(e,g,u)}}}])}var e,t,r={href:"file",src:"file",title:"i18n",placeholder:"i18n",popover:"i18n",value:"i18n",alt:"i18n",text:"i18n",id:null,type:null,"class":null},a=angular.module("pancakesAngular");for(var o in r)r.hasOwnProperty(o)&&(e=o.substring(0,1).toUpperCase()+o.substring(1),n("b"+e,o,null,!0,!1),n("bo"+e,o,null,!0,!0),t=r[o],t&&(n("f"+e,o,t,!1,!1),n("fo"+e,o,t,!1,!0),n("bf"+e,o,t,!0,!1),n("bfo"+e,o,t,!0,!0)))}(),angular.module("pancakesAngular").factory("i18n",function(){return{translate:function(n){return n}}}),angular.module("pancakesAngular").factory("initialModel",function(){return{}}),angular.module("pancakesAngular").factory("pageSettings",["$window","$rootElement",function(n,e){function t(t,r){n.document.title=t;var a=angular.element(e.find("meta[name=description]")[0]);a.attr("content",r)}function r(n){var t="gh-"+n.replace(".","-"),r=e.find(".maincontent");r&&r.length&&(r=angular.element(r[0]),r.attr("id",t))}return{updateHead:t,updatePageStyle:r}}]),angular.module("pancakesAngular").provider("stateLoader",function(){function n(n){for(var e=n.split("."),t="",r=0;r<e.length;r++)t+=e[r].substring(0,1).toUpperCase()+e[r].substring(1);return t}this.loadStates=function(e,t,r){var a={};angular.forEach(t,function(t){angular.forEach(t.urls,function(o,i){var u=r[t.name]||function(){return{}},l=(t.name+(0===i?"":"--"+i)).replace(/\./g,"-"),c={url:o,resolve:{initialModel:u,loadedUser:["activeUser",function(n){return n.init()}]},onEnter:["$rootScope",function(n){n.stateData=t.data||{},n.pageLoadTimestamp=(new Date).getTime()}],views:{"":{controller:n(t.name+"Ctrl"),templateUrl:"templates/"+t.name}}};a[l]&&(l+=(new Date).getTime()),a[l]=!0,e.state(l,c)})})},this.$get=function(){return{getPascalCase:n}}}),angular.module("pancakesAngular").factory("tplHelper",["$q","$injector","pageSettings","eventBus",function(n,e,t,r){function a(n,e){if(e)for(var t in e)e.hasOwnProperty(t)&&void 0===n[t]&&(n[t]=e[t])}function o(n,e){e&&(n.rerenderComponent=function(){e.go(e.current,{},{reload:!0})})}function i(t,r,a){if(a)if(r)t.rebindModel=function(){return n.when(e.invoke(a)).then(function(n){return angular.extend(t,n)})};else{var o=e.invoke(a);t.rebindModel=function(){return o(t),t},t.rebindModel()}}function u(n,t){for(var r in t)t.hasOwnProperty(r)&&t[r]&&(n[r]=e.invoke(t[r]))}function l(n,t){t&&t.length&&(t.push(function(){var e,r;for(e=0;e<arguments.length;e++)r=arguments[e],n[t[e]]=r}),e.invoke(t))}function c(n){var e=!0;return function(){e?e=!1:n()}}function d(n,e,t){var r,a,o,i;if(e&&t)for(r=0;r<e.length;r++)i=c(t),a=e[r],o=a.charAt(0),"^"===o?n.$watchCollection(a.substring(1),i):"*"===o?n.$watch(a.substring(1),i,!0):n.$watch(a,i)}function f(e){return function(){var t=e.rebindModel||function(){return!0};n.when(t(e)).then(function(){e.rerenderComponent()})}}function s(n,e){return d(n,e,n.rebindModel)}function g(n,e){return d(n,e,f(n))}function p(n,e,t){var a,o,i=[];if(e&&t){for(a=0;a<e.length;a++)o=e[a],i.push(r.on(o,t));n.$on("$destroy",function(){for(var n=0;n<i.length;n++)i[n]()})}}function v(n,e){return p(n,e,n.rebindModel)}function h(n,e){return p(n,e,f(n))}function m(n,e,r){if(angular.extend(n,e),n.pageHead&&n.pageHead.title){var a=n.pageHead.title;t.updateHead(a,n.pageHead.description||a),t.updatePageStyle(r)}}function w(n,t){var a=[];for(var o in t)t.hasOwnProperty(o)&&t[o]&&a.push(r.on(o,e.invoke(t[o])));n.$on("$destroy",function(){for(var n=0;n<a.length;n++)a[n]()})}function $(n,t){if(t)for(var r in t)t.hasOwnProperty(r)&&t[r]&&(n[r]=e.invoke(t[r]))}return{setDefaults:a,generateRerender:o,generateRebind:i,addValidations:u,attachToScope:l,generateRerenderCallback:f,rerenderOnScopeChange:g,rerenderOnEvent:h,rebindOnScopeChange:s,rebindOnEvent:v,generateScopeChangeHandler:c,doOnScopeChange:d,doOnEvent:p,addInitModel:m,registerListeners:w,addEventHandlers:$}}]);