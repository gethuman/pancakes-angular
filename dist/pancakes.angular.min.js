angular.module("pancakesAngular",[]),angular.module("pancakesAngular").factory("activeUser",function(){return{}}),angular.module("pancakesAngular").factory("ajax",["$q","$http","eventBus","config",function(e,n,t,a){function r(r,o,i,u){var l,c,s=e.defer(),d=[];r=a.apiBase+r,i=i||{};var f=i.data;delete i.data,r.indexOf("{_id}")>=0?i._id?(r=r.replace("{_id}",i._id),delete i._id):f&&f._id&&(r=r.replace("{_id}",f._id)):"GET"===o&&i._id&&(r+="/"+i._id,delete i._id);var g=i.showErr!==!1;delete i.showErr,i.lang=i.lang||a.lang;for(l in i)i.hasOwnProperty(l)&&i[l]&&(c=i[l],c=angular.isObject(c)?JSON.stringify(c):c,d.push(encodeURIComponent(l)+"="+encodeURIComponent(c)));d.length&&(r+="?"+d.join("&"));var p={method:o,url:r,withCredentials:!0,cache:!1};return f&&(p.data=f),t.emit(u+"."+o.toLowerCase()+".start"),n(p).success(function(e){s.resolve(e)}).error(function(e){e?(g&&t.emit("error.api",e),s.reject(e)):s.resolve()}).finally(function(){t.emit(u+"."+o.toLowerCase()+".end")}),s.promise}return{send:r}}]),function(){function e(e,n,t,a,o){r.directive(e,function(r,i){return function(u,l,c){var s;if(a)var d=u.$watch(c[e],function(e){e&&(e="file"===t?i.staticFileRoot+e:r.translate(e,u),c.$set(n,e),o&&d&&d())});else a||null===t||(s="file"===t?i.staticFileRoot+c[e]:r.translate(c[e],u),c.$set(n,s,u))}})}var n,t,a={href:"file",src:"file",title:"i18n",placeholder:"i18n",popover:"i18n",value:"i18n",alt:"i18n",id:null,type:null,"class":null},r=angular.module("pancakesAngular");for(var o in a)a.hasOwnProperty(o)&&(n=o.substring(0,1).toUpperCase()+o.substring(1),e("b"+n,o,null,!0,!1),e("bo"+n,o,null,!0,!0),t=a[o],t&&(e("f"+n,o,t,!1,!1),e("bf"+n,o,t,!0,!1),e("bfo"+n,o,t,!0,!0)))}(),angular.module("pancakesAngular").factory("eventBus",["$document","$rootScope",function(e,n){var t=n.$new(!0);return t.on=t.$on,t.watch=t.$watch,t.emit=function(){n.$broadcast.apply(n,arguments)},t.bindToDocument=function(n,t){e.bind(n,t)},t}]),angular.module("pancakesAngular").factory("config",function(){return{staticFileRoot:"/"}}),angular.module("pancakesAngular").factory("i18n",function(){return{}}),angular.module("pancakesAngular").factory("initialModel",function(){return{}}),angular.module("pancakesAngular").factory("pageSettings",["$window","$rootElement",function(e,n){function t(t,a){e.document.title=t;var r=angular.element(n.find("meta[name=description]")[0]);r.attr("content",a)}function a(e){var t="gh-"+e.replace(".","-"),a=n.find(".maincontent");a&&a.length&&(a=angular.element(a[0]),a.attr("id",t))}return{updateHead:t,updatePageStyle:a}}]),angular.module("pancakesAngular").provider("stateLoader",function(){function e(e){for(var n=e.split("."),t="",a=0;a<n.length;a++)t+=n[a].substring(0,1).toUpperCase()+n[a].substring(1);return t}this.loadStates=function(n,t,a){var r={};angular.forEach(t,function(t){angular.forEach(t.urls,function(o,i){var u=a[t.name]||function(){return{}},l=(t.name+(0===i?"":"--"+i)).replace(/\./g,"-"),c={url:o,resolve:{initialModel:u,loadedUser:["activeUser",function(e){return e.init()}]},onEnter:["$rootScope",function(e){e.stateData=t.data||{},e.pageLoadTimestamp=(new Date).getTime()}],views:{"":{controller:e(t.name+"Ctrl"),templateUrl:"templates/"+t.name}}};r[l]&&(l+=(new Date).getTime()),r[l]=!0,n.state(l,c)})})},this.$get=function(){return{}}}),angular.module("pancakesAngular").factory("tplHelper",["$injector","pageSettings","eventBus",function(e,n,t){function a(e,n){if(n)for(var t in n)n.hasOwnProperty(t)&&void 0===e[t]&&(e[t]=n[t])}function r(n,t){t&&t.length&&(t.push(function(){var e,a;for(e=0;e<arguments.length;e++)a=arguments[e],n[t[e]]=a}),e.invoke(t))}function o(n,t,a){function r(){o(n)}var o=e.invoke(t);if(o(n),a){var i,u;for(i=0;i<a.length;i++)u=a[i],n.$watch(u,r)}}function i(e,t,a){if(angular.extend(e,t),e.pageHead&&e.pageHead.title){var r=e.pageHead.title;n.updateHead(r,e.pageHead.description||r),n.updatePageStyle(a)}}function u(n,a){var r=[];for(var o in a)a.hasOwnProperty(o)&&r.push(t.on(o,e.invoke(a[o])));n.$on("$destroy",function(){for(var e=0;e<r.length;e++)r[e]()})}function l(n,t){if(t)for(var a in t)t.hasOwnProperty(a)&&(n[a]=e.invoke(t[a]))}return{setDefaults:a,attachToScope:r,execRenderModel:o,addInitModel:i,registerListeners:u,addEventHandlers:l}}]);